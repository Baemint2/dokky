<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mcp.semi.mypage.mapper.MyPageMapper">
	
	<resultMap id="MyPageMap" type="MyPageDto">
    <collection property="boardDto" ofType="BoardDto">
        <id property="boardNo" column="BOARD_NO"/>
        <result property="boardTitle" column="BOARD_TITLE"/>
        <result property="boardHit" column="BOARD_HIT"/>
        <result property="createDt" column="B_CREATE_DT"/>
        <association property="user" javaType="UserDto">
            <id property="userNo" column="USER_NO"/>
            <result property="userName" column="USER_NAME"/>
        </association>
    </collection>
</resultMap>
	
	
	<select id="getPostsByUserId" parameterType="int" resultMap="MyPageMap">
		SELECT B.BOARD_NO, U.USER_NAME, U.USER_NO, B.BOARD_TITLE, B.BOARD_HIT, B.B_CREATE_DT
		  FROM BOARD_T B
		 INNER JOIN USER_T U ON B.USER_NO = U.USER_NO
		 WHERE U.USER_NO = #{userNo}
		 ORDER BY B.B_CREATE_DT DESC
	</select>
</mapper>
